document.addEventListener("DOMContentLoaded",()=>{const n=[...document.querySelectorAll(".circuits-grid img")],e=document.getElementById("lightbox");if(!n.length||!e)return;const o=e.querySelector(".lb-image"),i=e.querySelector(".lb-caption");let t=0;function s(s){t=(s+n.length)%n.length,o.src=n[t].dataset.full,i.textContent=n[t].dataset.label||"",e.hidden=!1}n.forEach((e,t)=>e.addEventListener("click",()=>s(t))),e.querySelector(".lb-close").onclick=()=>e.hidden=!0,e.querySelector(".lb-prev").onclick=()=>s(t-1),e.querySelector(".lb-next").onclick=()=>s(t+1),e.addEventListener("click",t=>{t.target===e&&(e.hidden=!0)}),document.addEventListener("keydown",n=>{if(e.hidden)return;n.key==="Escape"&&(e.hidden=!0),n.key==="ArrowLeft"&&s(t-1),n.key==="ArrowRight"&&s(t+1)})})